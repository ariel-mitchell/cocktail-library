<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>

<script  th:inline="javascript"> let ingredients = /*[[${ingredients}]]*/ 'ingredients'; </script>

<body class="container">

<div th:replace="fragments :: page-header"></div>

<h1 th:text="${title}" class="page-title"></h1>

<form method="post">
    <div class="form-group">
        <label>Name
            <input class="form-control" type="text" name="name" >
        </label>
    </div>

    <div class="form-group">
        <label th:for="ingredient">List of Ingredients</label>
        <div class="form-list">
    <div class="form-row" id="ingredientForm">

                <label th:for="ingredientType">Ingredient Type</label>
                <select id="ingredientType" class="ingredientType" name="ingredientTypes" onchange="ingredientTypeSelected(this)">
                    <option value="">Select Ingredient Type</option>
                    <option th:each="ingredientType : ${ingredientTypes}"
                            th:text="${ingredientType.displayName}"
                            th:value="${ingredientType}"></option>
                </select>


                <label th:for="ingredientName" >Ingredient Name</label>
                <select id="ingredientName" class="ingredientName" name="ingredientNames">
                    <option>Select Ingredient</option>
                </select>

                <label th:for="ingredientAmount">Ingredient Amount</label>
                <select id="ingredientAmount" name="ingredientAmounts">
                    <option value="">Select Ingredient Amount</option>
                    <option th:each="ingredientAmount : ${ingredientAmounts}"
                            th:text="${ingredientAmount.displayName}"
                            th:value="${ingredientAmount}">Select Ingredient Amount</option>
                </select>


            <div class="form-group">
                <button type="button" onclick="repeatFormElement(this)">+ Add Another Ingredient</button>
            </div>
    </div>
    </div>
    </div>

    <a th:href="@{'/custom-ingredients/add'}">Add Custom Ingredient</a>

    <div class="form-group">
        <label th:for="tags">Tags</label>
        <th:block th:each="tag : ${tags}">
            <input type="checkbox" name="tagIds" th:value="${tag.id}">
            <label th:text="${tag.name}"></label>
        </th:block>
        <a th:href="@{'/tags/add'}">Add Tag</a>
    </div>
    <input type="submit" class="btn btn-primary" value="Add Recipe" />
</form>

</body>
</html>